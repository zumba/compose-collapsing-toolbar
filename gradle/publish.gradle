apply plugin: 'maven-publish'

var properties = new Properties()
var file = project.rootProject.file('publish.properties')

task androidSourceSets(type: Jar) {
	archiveClassifier.set('sources')

	from android.sourceSets.main.java.srcDirs
	from android.sourceSets.main.kotlin.srcDirs
}

artifacts {
	archives androidSourceSets
}


afterEvaluate {
	publishing {
		publications {
			release(MavenPublication) {
				groupId = 'me.onebone'
				artifactId = 'toolbar-compose'
				version = rootProject.ext.library_version

				from components.release

				artifact androidSourceSets

				pom {
					name = 'Collapsing Toolbar'
					description = 'A simple implementation of collapsing toolbar for Jetpack Compose'
					url = 'https://github.com/onebone/compose-collapsing-toolbar'

					licenses {
						license {
							name = 'MIT License'
							url = 'https://opensource.org/licenses/MIT'
						}
					}

				}
			}
		}
	}
}